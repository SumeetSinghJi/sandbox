# ARCADE SETUP

By: Sumeet Singh @ sumeet-singh.com

Date: August 2024

Description: This document outlines various ways to build, modify, and setup arcade machine cabinets and optionally add retro game emulation.


# TABLE OF CONTENTS
- [1. Arcade1UP Modding](#arcade1up-modding)
- [2. Build your own Arcade machine](#build-your-own-arcade-machine)
- [3. Retropie Setup](#retropie-setup)


# ARCADE1UP MODDING

If you have an existing Arcade1up cabinet the following steps outline the ways to improve the cosmetic and functional aspects of it.
Once the cab is built and all electronics added you can skip to the Retropie Setup steps to finally add retro game emulation on it

For starters, don't buy any 3/4 (also known as partycade with risers) generation of cabinets as they present many problems e.g. height, 
bad viewing angles, inferior build quality etc. Either buy the XL cabs if space is available or go for the Deluxe. The below
steps advise on cabinet modding to make them more authentic with height increasing or coin door light mods etc.,

METHEDOLOGY

1. BUILD CUSTOM RISER

Both 3/4 and Deluxe cabinets share same length and width dimensions and fit same riser - https://www.reddit.com/r/Arcade1Up/comments/167qcsp/can_the_deluxe_cabinets_be_put_on_risers/ XL cabs are also authentic but they are huge. Deluxe provide the middle ground authentic footprint
arcade experience.

## FOR DELUXE CABINETS

### OPTION A - Flush riser

Buy a flush riser then put metal diamond tread kickplates on all sides to prevent wear and tear
Cons are it will cause balance instability and exhuberate the rocking issue with these top heavy tall cabs (serious consideration)
Prepurchase: https://www.gijoelgaming.com/product/arcade1up-inline-riser
Example: https://www.youtube.com/watch?v=wlPyo3gw3MA

      +------------------------+
      |     MORTAL KOMBAT      |
      |                        |
      +------------------------+
      | +--------------------+ |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | +--------------------+ |
      |                        |
      |------------------------|
      |   X O O O   X O O O    |
      |------------------------|
      |                        |
      |                        |
      |                        |
      |       +---------+      |
      |       |  |   |  |      |
      |       |  _   _  |      |
      |       | |_| |_| |      |
      |       +---------+      |
      |                        |
      |                        |
      |                        |
      |                        |
      |                        |
      |                        |     
      +------------------------+
      |    Flush Riser (4")    |
      |                        |
      +------------------------+

### OPTION B - non flush riser

Buy a no flush riser then put metal diamond tread kickplates on all sides to prevent wear and tear, base adss stability.
Prepurchase: https://www.buystuffarcades.com/products/mini-riser-for-deluxe-arcade1up-cabs

      +------------------------+
      |     MORTAL KOMBAT      |
      |                        |
      +------------------------+
      | +--------------------+ |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | +--------------------+ |
      |                        |
      |------------------------|
      |   X O O O   X O O O    |
      |------------------------|
      |                        |
      |                        |
      |                        |
      |       +---------+      |
      |       |  |   |  |      |
      |       |  _   _  |      |
      |       | |_| |_| |      |
      |       +---------+      |
      |                        |
      |                        |
      |                        |
      |                        |    
      |                        |
      |                        |
     +--------------------------+
     |   Metal Kickplate (4")   |
     |                          |
     +--------------------------+

## FOR 3/4 CABINETS

As Arcade1up 3/4 cabinets are too short by 15cm (6") by personal testing and most reports https://www.reddit.com/r/Arcade1Up/comments/sdjj7n/even_with_riser_arcade_games_are_not_high_enough/ we then add that to the
custom riser measurements below to either extend the existing riser by 15cm or make a new riser for 49cm;

Aracde modder example dimensions - breakdown - https://www.reddit.com/r/Arcade1Up/comments/hql8o3/riser_specs/
4 x Outer panels 51cm (l) x 34cm (h)
2 x Inner panels 48cm (l) x 29cm (h)
2 x Weight bearing panels 48cm (l) x 5cm (w)

### OPTION A - Buy Riser extender

Buy a riser extender (diamond kickplate pattern best) and use the dimensions

Prepurchase: https://www.buystuffarcades.com/products/riser-booster-for-arcade1up-arcades?variant=40523236540576
Example: https://www.youtube.com/watch?v=2bcejhZNyBA&lc=Ugzya6nEhq4Rz2VvC5F4AaABAg.A6OuP1Pj09KA6PBk7JDYHM

      +------------------------+
      |     MORTAL KOMBAT      |
      |                        |
      +------------------------+
      | +--------------------+ |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | |                    | |
      | +--------------------+ |
      |                        |
      |------------------------|
      |   X O O O   X O O O    |
      |------------------------|
      |                        |
      |                        |
      |                        |
      |       +---------+      |
      |       |  |   |  |      |
      |       |  _   _  |      |
      |       | |_| |_| |      |
      |       +---------+      |
      |                        |
     +--------------------------+
     |                          |
     | Arcade1up Riser (13.25") |      
     |                          |
     |                          |     
     +--------------------------+
     |     Custom Riser (4")    |
     |                          |
     +--------------------------+

### OPTION B: Build Riser extender

Example; https://www.youtube.com/watch?v=B4P6Nuofftg


2. Deluxe cabs only - Lightup coin door mod - https://www.youtube.com/watch?v=lsZ99HHl2U0
3. 3/4 cabs only - Add real coin door https://www.youtube.com/watch?v=kSyySSv1ywQ
4. 3/4 cabs only - Add custom lit marquee (applies to 3/4 size cabinets only)
5. Deluxe cabs only - Fix static on speakers - The static can be fixed, I bought a better quality 12v power supply off Amazon and a TRRS Male to Female Stereo Audio Jack Extender Aux Extension Adapter Cords with Volume Control. Its a pain that they have the gain too high off the PCB and a noisy power supply, this way I can turn the gain down manually and it lowers the noise floor. The other fix is the reroute the headphone jack which is line level out and connect the speakers to that but I wanted to be able to still use headphones. It is kinda weird / lazy that they have not fixed an annoying problem that has a relatively cheap fix. - Youtube commenter @user-pi6cs3ue4s August 2024 https://www.youtube.com/watch?v=alf4X3mJsHQ 
5. Add speakers, raspberry pi and final build steps https://www.youtube.com/watch?v=09DQCOr6zQM

# BUILD YOUR OWN ARCADE MACHINE

These steps outline how to build your own custom arcade machine from scratch either yourself or with a carpenters help
to cut the wood (machine) the parts so you can put together, as well as various ways to paint the cab. Once the cab is built
and all electronics added you can skip to the Retropie Setup steps to finally add retro game emulation on it

Benefits of building your own machine include being able to have 1 of each game type (e.g. Fighting, seated racing, or gun arcade cabinet)
better then any Arcade1up reproduction.

METHEDOLOGY

1. 
2. 
3. 


# RETROPIE SETUP

If you want a gaming device like an arcade machine, or a custom gameboy
that has every retro game console and game in it you can take and play anywhere
then you need to install different emulators. RetroPie packages these steps in
a simple one click setup.

METHEDOLOGY

For any Linux OS (not just RaspberryPi), RetroPie runs a bunch of scripts that
installs and configures; 
1. User account "pi" with all necessary permissions
2. Default drivers (if RaspberryPi)
3. Retroarch
4. All emulator cores (even for PS1 games to work without BIOS if not yet added)
5. All ROM folders, etc.,
6. Emulation Station (from git pull ./make not from apt)
7. Autoboot to "emulationstation" launcher

So you can see it does quite alot. If you want a dedicated linux emulator device
then best use RetroPie to automatically do it all.

If using Windows then you can just use Retroarch.

INSTALLING RETROPIE - https://retropie.org.uk/docs/First-Installation/

[Or just watch the YouTube video here](https://www.youtube.com/watch?v=E1sbnPZ_A8w)

WHAT IS BIOS?

For CD and up generation gaming consoles you will need to dump your consoles
operating system called a bios and add it to your emulators folder.

Conveniently they are available online but first ensure you legally own the console first. 
An example for illustration purposes are here: https://github.com/Abdess/retroarch_system/releases/

RETROPIE SETUP

1. INSTALLING FROM IMAGE
```bash
1. Use PI imager - Select Raspberry Pi OS - Select storage medium e.g, Micro SD Card - Enable SSH during setup - Enable Wifi and add login details - Install - Plug Micro SD card into Pi then done. 
2. Find the IP address of the Raspberry PI e.g. either from router or arp -a command if on same network 
```

2. ACCESS PI VIA SSH
```bash
ssh pi@IP_GOES_HERE
password %: raspberry
```

3. UPDATE PI
```bash
sudo apt update
sudo apt upgrade -y
```

5. OPTIONAL - FOR PI 5 BOOT FROM NVME M.2
```bash
a. Connect a compatible m.2 hat for the Pi 5 and add connect NVME m.2 storage media and to the pi
b. In Raspberry Pi imager "you can reopen it if you closed it" click Storage then select the NVME m.2 storage media
follow instructions
c. sudo raspi-config
d. Advanced Options
e. Boot Order
f. NVME/USB Boot
g. sudo nano /boot/firmware/config.txt
h. insert line below
dtparam=pciex1_gen3
i. sudo reboot now
```

7. INSTALL RETROPI
```bash
cd
git clone --depth=1 https://github.com/RetroPie/RetroPie-Setup.git
cd RetroPie-Setup
sudo ./retropie_setup.sh
```

8. OPTIONAL - INSTALL FTP AND OPEN PORT 21 FOR FILE TRANSFER
```bash
sudo apt install vsftpd
sudo nano /etc/vsftpd.conf
Uncomment local_enable=YES # to allow local users to log in.
Uncomment write_enable=YES # to allow write access to the FTP server.
netstat -tuln # check if port now open
pi@retropi:~ $ tcp6       0      0 :::21                   :::*                    LISTEN 

# TO TRANSFER GAMES YOU CAN USE 
# WINDOWS = FILEZILLA
# MACOS = ???
```

9. ADD GAMES
IMPORTANT: PS2 games come in single .iso (DVD games) or a older 2 files together .bin/.cue (CD-ROM) style
a. Find the "Rom Folder" names for each emulator you want e.g. for Gameboy
the emulator Rom Folder name is "gb" from official docs - https://retropie.org.uk/docs/Game-Boy/ 
b. Make the folders on a USB and fill them with roms that you dumped from your own cartridges
c. Plug the USB into any USB slot of the raspberry pi and first see which usb folder it's in
e.g. /media/usb or usb1 - 4
d. Copy all the folders over
```bash
cp -r /media/usb1/* /home/pi/RetroPie/roms 
```

10. SWAP A/B BUTTONS
a. In main menu (core/emulator section) select RetroPie - RetroArch (will open a new menu) -
Settings - Input - Menu Controls
b. Set "Menu swap OK/Cancel buttons" to ON. This will change A/B buttons (or X/O on playstation controller)
c. Go back to Main menu - configuration - save current configuration
d. Done

11. SETUP HOTKEYS (TURBO + SAVE STATES + EMULATOR MENU)
a. In main menu (core/emulator section) select RetroPie - RetroArch (will open a new menu) -
Settings - Input - Hotkey Binds
b. scroll down to Hotkey - set to PS button on Playstation controller 
(e.g. the PS logo on Dualshock 5)
c. Select Fast Forward (Toggle) to be R3 (use in game with Press PS button + R3 (Hold down))
d. Menu toggle gamepad combo - select "Start + Select" (use in game with Press Start + Select)
e. Go back to Main menu - configuration - save current configuration
f. Done

12. SETUP BOTH ARCADE BUTTONS/JOYSTICK
note you can keep a ps controller or keyboard plugged in while setting up the 2 arcade sticks
To setup any controller just hold down any button on it and it will detect
just that controller, then setup any buttons and skip any you cant do
a. https://www.youtube.com/watch?v=uL3K8sZIuWo


13. ADD BIOS
(Necessary for PS1)
a. Find the BIOS somewhere e.g. by dumping your own consoles BIOS
or here if you legally own the console: https://github.com/Abdess/retroarch_system/releases/
b. Put all files (e.g. for PS1) in BIOS
```bash
cp scph5500.bin, scph5501.bin, scph5502.bin /home/pi/RetroPie/BIOS
```

14. CONSOLE BOOT SOUND
a. Edit config to set boot sound for whichever core e.g. ps1 to start
```bash
nano /opt/retropie/configs/all/retroarch-core-options.cfg
pcsx_rearmed_show_bios_bootlogo = "disabled"
# change to
pcsx_rearmed_show_bios_bootlogo = "enabled"
```

15. OPTIONAL - START GAME ON BOOT
```bash
nano /opt/retropie/configs/all/autostart.sh
# To start any rom on startup type/replace the core and rom path with the game 
/opt/retropie/supplementary/runcommand/runcommand.sh 0 _SYS_ mame-libretro ~/RetroPie/roms/mame-libretro/sf2ce.zip &&$
# emulationstation #auto
```
To reverse comment the top and uncomment the bottom.
```bash
pi@retropie:~ $ cat /opt/retropie/configs/all/autostart.sh
# /opt/retropie/supplementary/runcommand/runcommand.sh 0 _SYS_ mame-libretro ~/RetroPie/roms/mame-libretro/sf2ce.zip && emulationstation
emulationstation #auto
pi@retropie:~ $
```

16. ADD GAME ARTWORK | THUMBNAIL IMAGES
a. In main menu where you select your emulators press start
b. Press scrapper
c. Press to configure by having user not worry about conflicts (automatically find images)
d. Press to start and it will download all images by itself
e. If Some images are skipped you can go back and choose the second scrapper which scraps images
from a different website and complete the remaining images

17. OPTIONAL - KEEP MOUSE LOCKED TO ACTIVE GAME SCREEN (NO BORDERLESS)
a. set hotkey mouse (toggle) to any button e.g. doubel quotation mark (").
in game press that button and mouse will lock to screen.
